## 更新日志

<div class="doc-update">
	<ul class="u-timeline u-timeline-pending">
    <li class="u-timeline-item" v-for="item in logList" :key="item._id">
			<div class="u-timeline-item-tail"></div>
			<div class="u-timeline-item-head u-timeline-item-head-blue"></div>
			<div class="u-timeline-item-content">
				<div class="anchor">
					<h2>{{ item.version }}</h2>
				</div>
				<p><code>{{ item.releaseDate }}</code></p>
				<ul>
					<li v-for="log in item.changes" :key="log._id">
              <span class="fix" v-if="log.type === 'fix'">修复</span>
              <span class="add" v-if="log.type === 'add'">添加</span>
              <span class="optimize" v-if="log.type === 'perf'">优化</span>
							{{ log.desc }}
							<git-link v-if="log.issueAnchor" :anchors="log.issueAnchor" />
					</li>
				</ul>
			</div>
		</li>
	</ul>
</div>

<script>
import axios from 'axios'

export default {
    data() {
        return {
            logList: []
        }
    },
    created() {
        axios.get(`https://api.uviewui.com/client/changelog?size=10000&docs=v2`).then(({ data }) => {
            const { data: { list }, code } = data
            if (code === 0) {
                this.logList = list
            }
        })
    }
}
</script>

<style>
	.doc-update {
		padding: 10px 5px;
		position: relative;
		line-height: 1.5;
		color: #515a6e;
	}
	
	.u-timeline {
		padding-left: 0;
	}

	.u-timeline-item-tail {
		height: 100%;
		border-left: 1px solid #e8eaec;
		position: absolute;
		left: 7px;
		top: 0;
	}

	.u-timeline-item-head {
		width: 13px;
		height: 13px;
		background-color: #fff;
		border-radius: 50%;
		border: 1px solid transparent;
		position: absolute;
	}

	.u-timeline-item-head-blue {
		border-color: #2d8cf0;
		color: #2d8cf0;
	}

	.doc-update .u-timeline .u-timeline-item-content {
		top: -4px;
	}

	.u-timeline-item-content {
		padding: 1px 1px 10px 28px;
		font-size: 14px;
		position: relative;
		top: -3px;
	}

	.doc-update h2 {
		font-size: 18px;
		font-weight: 400;
		display: inline-block;
		margin: 0;
		border: none;
		color: #515a6e;
	}

	.page .doc-update p {
		margin: 5px 0!important;
		font-size: 14px;
	}

	.doc-update code {
		margin: 8px 0!important;
		font-size: 85%;
		background-color: #fff5f5!important;
		border-radius: 3px;
		font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
		color: #fa795e!important;
		padding: 2px 4px;
	}

	.doc-update ol ul:not([class^=u-]),
	.doc-update ul ul:not([class^=u-]) {
		list-style-type: circle;
	}

	.doc-update li:not([class^=u-]) {
		margin-bottom: 5px;
		font-size: 14px;
	}

	a {
		color: #2d8cf0;
		background: 0 0;
		text-decoration: none;
		outline: 0;
		cursor: pointer;
		transition: color .2s ease;
	}

	.u-timeline-item {
		margin: 0 !important;
		padding: 0 0 12px;
		list-style: none;
		position: relative;
	}
	
	.u-timeline-item span {
		display: inline-block;
		padding: 4px 8px;
		border-radius: 4px;
		color: #fff;
		font-size: 12px;
		border-width: 1px;
		border-style: solid;
		line-height: 1;
		margin-right: 5px;
	}
	
	.u-timeline-item span.fix {
		color: rgb(255, 153, 0);
		background-color: rgb(253, 246, 236);
		border-color: rgb(252, 189, 113);
	}
	
	.u-timeline-item span.add {
		color: rgb(25, 190, 107);
		background-color: rgb(219, 241, 225);
		border-color: rgb(113, 213, 161);
	}
	
	.u-timeline-item span.optimize {
		color: rgb(41, 121, 255);
		background-color: rgb(236, 245, 255);
		border-color: rgb(160, 207, 255);
	}
</style>
